"use strict";(self.webpackChunktrakify=self.webpackChunktrakify||[]).push([[484],{8424:(J,S,s)=>{s.d(S,{N:()=>H});var t=s(7579),x=s(2722),h=s(3900),O=s(9646),f=s(515),W=s(6451),w=s(2805),I=s(4004),F=s(9841),y=s(8675),A=s(1884),l=s(404),u=s(975),d=s(4650),L=s(6895),Y=s(1572);function K(c,P){1&c&&(d.ynx(0),d.Hsn(1),d.BQk())}function X(c,P){if(1&c&&(d.ynx(0),d.YNc(1,K,2,0,"ng-container",0),d.ALo(2,"async"),d.BQk()),2&c){const M=d.oxw(),p=d.MAs(3);let E;d.xp6(1),d.Q6J("ngIf",!1===d.lcZ(2,2,M.isLoadingDelayed))("ngIfElse",null!==(E=M.customLoading)&&void 0!==E?E:p)}}function Q(c,P){1&c&&(d.TgZ(0,"div",3),d._UZ(1,"mat-spinner",4),d.qZA())}function G(c,P){1&c&&(d.TgZ(0,"div"),d._uU(1,"An error occurred"),d.qZA())}const k=["*"];let H=(()=>{class c extends l.H{constructor(){super(...arguments),this.showErrorTemplate=!1,this.loadingDelay=800,this.minimumLoadingShown=600,this.loadingStateChanged=new t.x,this.state=u.Gu}ngOnChanges(M){const p=M.loadingState?.currentValue;p&&(this.loadingStateChanged.next(),p.pipe((0,x.R)(this.loadingStateChanged),(0,x.R)(this.destroy$)).subscribe(()=>{const E=p.pipe((0,h.w)(D=>D!==u.Gu.LOADING?(0,O.of)(void 0):f.E));this.isLoadingDelayed=(0,W.T)((0,w.H)(this.loadingDelay).pipe((0,I.U)(()=>!0),(0,x.R)(E)),(0,F.a)([E,(0,w.H)(this.loadingDelay+this.minimumLoadingShown)]).pipe((0,I.U)(()=>!1))).pipe((0,y.O)(!1),(0,A.x)())}))}}return c.\u0275fac=function(){let P;return function(p){return(P||(P=d.n5z(c)))(p||c)}}(),c.\u0275cmp=d.Xpm({type:c,selectors:[["t-loading"]],inputs:{loadingState:"loadingState",customLoading:"customLoading",customError:"customError",showErrorTemplate:"showErrorTemplate"},features:[d.qOj,d.TTD],ngContentSelectors:k,decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["error",""],[1,"loading-wrapper"],["diameter","32"]],template:function(M,p){if(1&M&&(d.F$t(),d.YNc(0,X,3,4,"ng-container",0),d.ALo(1,"async"),d.YNc(2,Q,2,0,"ng-template",null,1,d.W1O),d.YNc(4,G,2,0,"ng-template",null,2,d.W1O)),2&M){const E=d.MAs(5);let D;d.Q6J("ngIf",!p.showErrorTemplate||d.lcZ(1,2,p.loadingState)!==p.state.ERROR)("ngIfElse",null!==(D=p.customError)&&void 0!==D?D:E)}},dependencies:[L.O5,Y.Ou,L.Ov],styles:[".loading-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1rem}"]}),c})()},6120:(J,S,s)=>{s.d(S,{j:()=>xe});var t=s(4650),x=s(2869),h=s(6895),O=s(858),f=s(4633),W=s(3238),w=s(4854),I=s(4859),F=s(3162),y=s(7392),A=s(8255),l=s(953),u=s(833),L=s(3628),Y={};function K(){return Y}function Q(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}function G(n,i){(0,u.Z)(2,arguments);var e=(0,l.Z)(n),o=(0,l.Z)(i),a=e.getTime()-o.getTime();return a<0?-1:a>0?1:a}function k(n,i){if(null==n)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e]);return n}function H(n){return k({},n)}var c={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function p(n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i.width?String(i.width):n.defaultWidth,o=n.formats[e]||n.formats[n.defaultWidth];return o}}var at={date:p({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:p({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:p({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},lt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Z(n){return function(i,e){var a;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&n.formattingValues){var r=n.defaultFormattingWidth||n.defaultWidth,v=null!=e&&e.width?String(e.width):r;a=n.formattingValues[v]||n.formattingValues[r]}else{var m=n.defaultWidth,T=null!=e&&e.width?String(e.width):n.defaultWidth;a=n.values[T]||n.values[m]}return a[n.argumentCallback?n.argumentCallback(i):i]}}function U(n){return function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.width,a=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],r=i.match(a);if(!r)return null;var g,v=r[0],m=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],T=Array.isArray(m)?Pt(m,function(b){return b.test(v)}):xt(m,function(b){return b.test(v)});g=n.valueCallback?n.valueCallback(T):T,g=e.valueCallback?e.valueCallback(g):g;var R=i.slice(v.length);return{value:g,rest:R}}}function xt(n,i){for(var e in n)if(n.hasOwnProperty(e)&&i(n[e]))return e}function Pt(n,i){for(var e=0;e<n.length;e++)if(i(n[e]))return e}const Zt={code:"en-US",formatDistance:function(i,e,o){var a,r=c[i];return a="string"==typeof r?r:1===e?r.one:r.other.replace("{{count}}",e.toString()),null!=o&&o.addSuffix?o.comparison&&o.comparison>0?"in "+a:a+" ago":a},formatLong:at,formatRelative:function(i,e,o,a){return lt[i]},localize:{ordinalNumber:function(i,e){var o=Number(i),a=o%100;if(a>20||a<10)switch(a%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},era:Z({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Z({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:Z({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Z({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Z({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Mt(n){return function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.match(n.matchPattern);if(!o)return null;var a=o[0],r=i.match(n.parsePattern);if(!r)return null;var v=n.valueCallback?n.valueCallback(r[0]):r[0];v=e.valueCallback?e.valueCallback(v):v;var m=i.slice(a.length);return{value:v,rest:m}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(i){return parseInt(i,10)}}),era:U({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:U({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:U({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:U({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:U({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var q=6e4,j=1440,tt=30*j,et=365*j;function Ut(n,i,e){var o,a,r;(0,u.Z)(2,arguments);var v=K(),m=null!==(o=null!==(a=e?.locale)&&void 0!==a?a:v.locale)&&void 0!==o?o:Zt;if(!m.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var T=G(n,i);if(isNaN(T))throw new RangeError("Invalid time value");var R,b,g=k(H(e),{addSuffix:Boolean(e?.addSuffix),comparison:T});T>0?(R=(0,l.Z)(i),b=(0,l.Z)(n)):(R=(0,l.Z)(n),b=(0,l.Z)(i));var C,z=String(null!==(r=e?.roundingMethod)&&void 0!==r?r:"round");if("floor"===z)C=Math.floor;else if("ceil"===z)C=Math.ceil;else{if("round"!==z)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");C=Math.round}var _,$=b.getTime()-R.getTime(),N=$/q,Pe=Q(b)-Q(R),B=($-Pe)/q,V=e?.unit;if("second"===(_=V?String(V):N<1?"second":N<60?"minute":N<j?"hour":B<tt?"day":B<et?"month":"year")){var Me=C($/1e3);return m.formatDistance("xSeconds",Me,g)}if("minute"===_){var Ee=C(N);return m.formatDistance("xMinutes",Ee,g)}if("hour"===_){var ye=C(N/60);return m.formatDistance("xHours",ye,g)}if("day"===_){var Ce=C(B/j);return m.formatDistance("xDays",Ce,g)}if("month"===_){var it=C(B/tt);return 12===it&&"month"!==V?m.formatDistance("xYears",1,g):m.formatDistance("xMonths",it,g)}if("year"===_){var Te=C(B/et);return m.formatDistance("xYears",Te,g)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}let Yt=(()=>{class n{transform(e,o){if(!e)return"";const a=new Date(e);return function d(n,i){(0,u.Z)(2,arguments);var e=(0,l.Z)(n).getTime(),o=(0,l.Z)(i.start).getTime(),a=(0,l.Z)(i.end).getTime();if(!(o<=a))throw new RangeError("Invalid interval");return e>=o&&e<=a}(a,{start:new Date,end:(0,L.Z)(new Date,1)})?function Bt(n){return n.charAt(0).toUpperCase()+n.slice(1)}(function Nt(n,i){return(0,u.Z)(1,arguments),Ut(n,Date.now(),i)}(a,{roundingMethod:"ceil",addSuffix:!0})):(0,h.p6)(e,o,"en-US")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"relativeDate",type:n,pure:!0}),n})();var Qt=s(3022);function kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",9),t.NdJ("load",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.posterLoaded=!0)}),t.qZA()}if(2&n){const e=i.ngIf,o=t.oxw();t.Q6J("src",o.posterPrefixLg+e,t.LSH)("alt",o.tmdbShow||o.show?((null==o.tmdbShow?null:o.tmdbShow.name)||(null==o.show?null:o.show.title))+" Poster":"Poster"),t.uIk("loading",void 0!==o.initialIndex&&o.initialIndex<=4?null:"lazy")("fetchpriority",void 0!==o.initialIndex&&o.initialIndex<=4?"high":null)}}function jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",10),t.NdJ("load",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.posterLoaded=!0)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("priority",void 0!==e.initialIndex&&e.initialIndex<=4)}}function Jt(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.tmdbShow.number_of_episodes," episodes ")}}function Kt(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.progress.aired-e.progress.completed," remaining ")}}function Gt(n,i){1&n&&(t.ynx(0),t._uU(1," \xb7 "),t.BQk())}function Ht(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Jt,2,1,"ng-container",6),t.YNc(2,Kt,2,1,"ng-container",6),t.YNc(3,Gt,2,0,"ng-container",6),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.tmdbShow&&(!e.progress||0===e.progress.completed)),t.xp6(1),t.Q6J("ngIf",e.progress&&e.progress.completed>0&&e.progress.aired-e.progress.completed),t.xp6(1),t.Q6J("ngIf",e.tmdbShow&&(!e.progress||e.progress&&e.progress.aired-e.progress.completed))}}function zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"h2",12),t._uU(2),t.qZA(),t.TgZ(3,"button",13),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return r.preventEvent(a),t.KtG(r.isFavorite?r.removeFavorite.emit(r.show):r.addFavorite.emit(r.show))}),t.TgZ(4,"mat-icon",14),t._uU(5),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.AsE(" ",(null==e.tmdbShow?null:e.tmdbShow.name)||e.show.title," ",e.withYear&&null!==e.show.year?" ("+e.show.year+")":""," "),t.xp6(1),t.ekj("remove",!e.isFavorite),t.xp6(2),t.Oqu(e.isFavorite?"star":"star_outline")}}function $t(n,i){if(1&n&&t._UZ(0,"mat-progress-bar",15),2&n){const e=t.oxw();t.Q6J("value",e.progress.completed/e.progress.aired*100)}}function Vt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"p",16),t._uU(2),t.ALo(3,"number"),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"p",17),t._uU(6),t.ALo(7,"relativeDate"),t.ALo(8,"date"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(" S",t.xi3(3,4,e.episode.season,"2.0-0"),"E",t.xi3(4,7,e.episode.number,"2.0-0")," ",e.episode.title," "),t.xp6(4),t.hij(" ",e.withRelativeDate&&e.episode.first_aired?t.xi3(7,10,e.episode.first_aired,"d. MMM. yyyy (E.)"):t.xi3(8,13,e.episode.first_aired,"d. MMM. yyyy (E.)")," ")}}function Xt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"p",18),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.tmdbShow?null:e.tmdbShow.status)}}function qt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Vt,9,16,"ng-container",6),t.YNc(2,Xt,3,1,"ng-container",6),t.ALo(3,"isShowEnded"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.episode),t.xp6(1),t.Q6J("ngIf",null===e.episode&&!t.lcZ(3,2,e.tmdbShow))}}function te(n,i){1&n&&(t.TgZ(0,"button",21)(1,"mat-icon"),t._uU(2,"checkbox"),t.qZA()())}function ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return r.preventEvent(a),t.KtG(r.isWatchlist?r.removeShow.emit(r.show):r.addShow.emit(r.show))}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw(2);t.uIk("aria-label",e.isWatchlist?"Remove show":"Add show")("data-test-id",e.isWatchlist?"remove-button":"add-button"),t.xp6(2),t.Oqu(e.isWatchlist?"remove":"add")}}function ne(n,i){if(1&n&&(t.ynx(0),t.YNc(1,te,3,0,"button",19),t.YNc(2,ee,3,3,"button",20),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.progress||e.showWatched),t.xp6(1),t.Q6J("ngIf",void 0!==e.isWatchlist&&!(e.progress||e.showWatched))}}const oe=function(n,i){return{show:n,isFavorite:i}};function ie(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",23),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.preventEvent(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e.menu)("matMenuTriggerData",t.WLB(2,oe,e.show,e.isFavorite))}}let re=(()=>{class n{constructor(){this.addFavorite=new t.vpe,this.removeFavorite=new t.vpe,this.addShow=new t.vpe,this.removeShow=new t.vpe,this.posterLoaded=!1,this.posterPrefixLg=w.$3}ngOnChanges(e){e.i?.firstChange&&void 0!==e.i?.currentValue&&void 0===this.initialIndex&&(this.initialIndex=e.i.currentValue)}preventEvent(e){e.stopPropagation(),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["t-show-item"]],inputs:{show:"show",showWatched:"showWatched",progress:"progress",tmdbShow:"tmdbShow",tmdbSeason:"tmdbSeason",isFavorite:"isFavorite",isWatchlist:"isWatchlist",episode:"episode",withYear:"withYear",withEpisode:"withEpisode",withAddButtons:"withAddButtons",withEpisodesCount:"withEpisodesCount",withProgressbar:"withProgressbar",withRelativeDate:"withRelativeDate",menu:"menu"},outputs:{addFavorite:"addFavorite",removeFavorite:"removeFavorite",addShow:"addShow",removeShow:"removeShow"},features:[t.TTD],decls:15,vars:13,consts:[[1,"poster-wrapper"],["width","185","height","278",3,"src","alt","load",4,"ngIf","ngIfElse"],["imgFallback",""],[1,"right"],[1,"left-wrapper"],[1,"mat-small","small-text"],[4,"ngIf"],["class","title-wrapper",4,"ngIf"],["class","progress-bar","mode","determinate","color","accent","aria-label","Shows episodes completed percentage of all aired episodes",3,"value",4,"ngIf"],["width","185","height","278",3,"src","alt","load"],["rawSrc","assets/poster.png","width","154","height","231","alt","Poster",3,"priority","load"],[1,"title-wrapper"],[1,"mat-title","title"],["mat-icon-button","","aria-label","Favorite",1,"favorite-button",3,"click"],[1,"favorite-icon"],["mode","determinate","color","accent","aria-label","Shows episodes completed percentage of all aired episodes",1,"progress-bar",3,"value"],[1,"mat-small","next-episode-text"],[1,"mat-small","next-episode-date"],[1,"mat-small","show-status"],["mat-icon-button","","aria-label","Show added","disabled","","data-test-id","show-added",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Show added","disabled","","data-test-id","show-added"],["mat-icon-button","",3,"click"],["mat-icon-button","","aria-label","Menu","data-test-id","show-item-menu",3,"matMenuTriggerFor","matMenuTriggerData","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,kt,1,4,"img",1),t.YNc(2,jt,1,1,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"p",5),t.YNc(7,Ht,4,3,"ng-container",6),t._uU(8),t.qZA(),t.YNc(9,zt,6,5,"div",7),t.YNc(10,$t,1,1,"mat-progress-bar",8),t.YNc(11,qt,4,4,"ng-container",6),t.qZA(),t.TgZ(12,"div"),t.YNc(13,ne,3,2,"ng-container",6),t.YNc(14,ie,4,5,"ng-container",6),t.qZA()()),2&e){const a=t.MAs(3);let r;t.ekj("not-loaded",!o.posterLoaded),t.xp6(1),t.Q6J("ngIf",o.posterPrefixLg&&((null==o.tmdbSeason?null:o.tmdbSeason.poster_path)||(null==o.tmdbShow?null:o.tmdbShow.poster_path)))("ngIfElse",a),t.xp6(3),t.ekj("without-gap",!o.withAddButtons),t.xp6(3),t.Q6J("ngIf",o.withEpisodesCount),t.xp6(1),t.hij(" ",null!==(r=null==o.tmdbShow||null==o.tmdbShow.networks||null==o.tmdbShow.networks[0]?null:o.tmdbShow.networks[0].name)&&void 0!==r?r:"\xa0"," "),t.xp6(1),t.Q6J("ngIf",o.show),t.xp6(1),t.Q6J("ngIf",o.withProgressbar&&o.progress&&o.showWatched),t.xp6(1),t.Q6J("ngIf",o.withEpisode),t.xp6(2),t.Q6J("ngIf",o.withAddButtons&&o.show),t.xp6(1),t.Q6J("ngIf",!o.withAddButtons&&o.menu&&o.show)}},dependencies:[h.O5,I.lW,F.pW,y.Hw,A.p6,h.Zd,h.JJ,h.uU,Yt,Qt.t],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:5rem 1fr;align-items:center;gap:1rem;width:100%;height:100%}@media (min-width: 576px){[_nghost-%COMP%]{grid-template-columns:6rem 1fr}}@media (min-width: 1200px){[_nghost-%COMP%]{grid-template-columns:9.625rem 1fr}}.poster-wrapper[_ngcontent-%COMP%]{aspect-ratio:2/3;cursor:pointer;border-radius:var(--border-radius);overflow:hidden;display:flex;place-items:center}.poster-wrapper.not-loaded[_ngcontent-%COMP%]{background-color:var(--background-2)}.right[_ngcontent-%COMP%]{width:100%;overflow:hidden;display:grid;grid-template-columns:1fr auto;align-items:center;gap:1rem}.right.without-gap[_ngcontent-%COMP%]{gap:unset}.left-wrapper[_ngcontent-%COMP%]{overflow:hidden}.title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.125rem;--icon-size: 1rem}@media (min-width: 576px){.title-wrapper[_ngcontent-%COMP%]{margin-bottom:.75rem;--icon-size: 1.25rem}}.title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-bottom:0;margin-right:.25rem;font-size:1rem;font-weight:400;line-height:1.5rem}@media (min-width: 576px){.title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:2rem}}.title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{cursor:pointer}.title-wrapper[_ngcontent-%COMP%]   .favorite-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:var(--icon-size);height:var(--icon-size)}.title-wrapper[_ngcontent-%COMP%]   .favorite-button.remove[_ngcontent-%COMP%]{display:none}.title-wrapper[_ngcontent-%COMP%]:hover   .favorite-button.remove[_ngcontent-%COMP%]{display:flex}.title-wrapper[_ngcontent-%COMP%]   .favorite-icon[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size);font-size:var(--icon-size);line-height:var(--icon-size)}.progress-bar[_ngcontent-%COMP%]{margin-bottom:.25rem}@media (min-width: 576px){.progress-bar[_ngcontent-%COMP%]{margin-bottom:1rem}}.small-text[_ngcontent-%COMP%], .next-episode-text[_ngcontent-%COMP%], .next-episode-date[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.small-text[_ngcontent-%COMP%]{margin:0;color:var(--text-color-2)}@media (min-width: 576px){.small-text[_ngcontent-%COMP%]{margin-bottom:.5rem}}.next-episode-text[_ngcontent-%COMP%]{margin:0}@media (min-width: 576px){.next-episode-text[_ngcontent-%COMP%]{margin-bottom:.5rem}}.next-episode-date[_ngcontent-%COMP%]{margin:0;color:var(--text-color-2)}@media (min-width: 576px){.next-episode-date[_ngcontent-%COMP%]{margin-top:.5rem}}.show-status[_ngcontent-%COMP%]{margin:0;color:var(--text-color-2)}"]}),n})();var ae=s(1521);let nt=(()=>{class n{constructor(e){this.ref=e,this.element=e.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","tTransitionGroupItem",""]]}),n})();var se=s(7579),le=s(4968),de=s(8372),ot=s(2722);let ue=(()=>{class n{constructor(){this.destroy$=new se.x,this.moveClass="move"}ngOnInit(){(0,le.R)(window,"scroll").pipe((0,de.b)(10),(0,ot.R)(this.destroy$)).subscribe(()=>this.refreshPosition("previousPosition"))}ngAfterViewInit(){requestAnimationFrame(()=>this.refreshPosition("previousPosition")),this.items?.changes.pipe((0,ot.R)(this.destroy$)).subscribe(e=>{e.forEach(r=>r.previousPosition=r.newPosition||r.previousPosition),e.forEach(r=>r.onMove?.()),this.refreshPosition("newPosition"),e.forEach(r=>r.previousPosition=r.previousPosition||r.newPosition);const o=()=>{e.forEach(this.applyTranslation),this._forceReflow=document.body.offsetHeight,this.items?.forEach(this.runTransition.bind(this))};e.some(r=>!(!r.previousPosition||!r.newPosition)&&(!!(r.previousPosition.left-r.newPosition.left)||!!(r.previousPosition.top-r.newPosition.top)))?o():requestAnimationFrame(()=>{this.refreshPosition("newPosition"),o()})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}runTransition(e){!e.moved||(e.element.classList.add(this.moveClass),e.element.style.transform=e.element.style.transitionDuration="",e.element.addEventListener("transitionend",e.onMove=o=>{(!o||/transform$/.test(o.propertyName))&&(e.onMove&&e.element.removeEventListener("transitionend",e.onMove),e.onMove=null,e.element.classList.remove(this.moveClass))}))}refreshPosition(e){this.items?.forEach(o=>{o[e]=o.element.getBoundingClientRect()})}applyTranslation(e){if(e.moved=!1,!e.previousPosition||!e.newPosition)return;const o=e.previousPosition.left-e.newPosition.left,a=e.previousPosition.top-e.newPosition.top;(o||a)&&(e.moved=!0,e.element.style.transform="translate("+o+"px,"+a+"px)",e.element.style.transitionDuration="0s")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","tTransitionGroup",""]],contentQueries:function(e,o,a){if(1&e&&t.Suo(a,nt,4),2&e){let r;t.iGM(r=t.CRH())&&(o.items=r)}}}),n})();var me=s(4754),he=s(3322);const ce=function(n,i,e){return{show:n,season:i,episode:e}},pe=function(n){return{show:n}};function ge(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",5),t.ALo(1,"ngGenericPipe"),t.ALo(2,"showSlug"),t.ALo(3,"ngGenericPipe"),t.ALo(4,"showSlug"),t.TgZ(5,"mat-list-item")(6,"t-show-item",6),t.NdJ("addFavorite",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.addFavorite.emit(a))})("removeFavorite",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.removeFavorite.emit(a))})("addShow",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.add.emit(a))})("removeShow",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.remove.emit(a))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.Q6J("routerLink",e.show?o.withLinkToEpisode&&e.nextEpisode?t.xi3(1,16,t.kEZ(26,ce,t.lcZ(2,19,e.show),e.nextEpisode.season+"",e.nextEpisode.number+""),o.paths.episode):t.xi3(3,21,t.VKq(30,pe,t.lcZ(4,24,e.show)),o.paths.show):null),t.xp6(6),t.Q6J("show",e.show)("showWatched",e.showWatched)("progress",e.showProgress)("tmdbShow",e.tmdbShow)("tmdbSeason",e.tmdbSeason)("episode",e.nextEpisode)("isFavorite",e.isFavorite)("isWatchlist",!!e.isWatchlist)("withYear",o.withYear)("withEpisode",o.withEpisode)("withAddButtons",o.withAddButtons)("withEpisodesCount",o.withEpisodesCount)("withProgressbar",o.withProgressbar)("withRelativeDate",o.withRelativeDate)("menu",o.menu)}}function fe(n,i){if(1&n&&(t.TgZ(0,"mat-list",3),t.YNc(1,ge,7,32,"a",4),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.showsInfos)("ngForTrackBy",e.showId)}}function ve(n,i){if(1&n&&(t.ynx(0),t.YNc(1,fe,2,2,"mat-list",2),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(2);t.xp6(1),t.Q6J("ngIf",e.showsInfos.length)("ngIfElse",o)}}const _e=function(){return{}};function we(n,i){if(1&n&&(t.TgZ(0,"h2",7),t._uU(1,"No shows in the list."),t.qZA(),t.TgZ(2,"p")(3,"a",8),t.ALo(4,"ngGenericPipe"),t._uU(5,"Add"),t.qZA(),t._uU(6," one show."),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.xi3(4,1,t.DdM(4,_e),e.paths.addShow))}}let xe=(()=>{class n{constructor(){this.addFavorite=new t.vpe,this.removeFavorite=new t.vpe,this.add=new t.vpe,this.remove=new t.vpe,this.paths=x}showId(e,o){return o.show?.ids.trakt}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["t-shows"]],inputs:{showsInfos:"showsInfos",withYear:"withYear",withEpisode:"withEpisode",withAddButtons:"withAddButtons",withLinkToEpisode:"withLinkToEpisode",withEpisodesCount:"withEpisodesCount",withProgressbar:"withProgressbar",withRelativeDate:"withRelativeDate",menu:"menu"},outputs:{addFavorite:"addFavorite",removeFavorite:"removeFavorite",add:"add",remove:"remove"},decls:3,vars:1,consts:[[4,"ngIf"],["noShows",""],["class","shows","tTransitionGroup","",4,"ngIf","ngIfElse"],["tTransitionGroup","",1,"shows"],["class","show link","tTransitionGroupItem","","matRipple","","tHideRippleOnScroll","","data-test-id","show",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["tTransitionGroupItem","","matRipple","","tHideRippleOnScroll","","data-test-id","show",1,"show","link",3,"routerLink"],[3,"show","showWatched","progress","tmdbShow","tmdbSeason","episode","isFavorite","isWatchlist","withYear","withEpisode","withAddButtons","withEpisodesCount","withProgressbar","withRelativeDate","menu","addFavorite","removeFavorite","addShow","removeShow"],[1,"mat-subheading-1"],[3,"routerLink"]],template:function(e,o){1&e&&(t.YNc(0,ve,2,2,"ng-container",0),t.YNc(1,we,7,5,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",o.showsInfos)},dependencies:[h.sg,h.O5,O.yS,f.i$,f.Tg,W.wG,re,ae.g,nt,ue,me.a,he.v],styles:[".shows[_ngcontent-%COMP%]{margin-top:-1rem}.shows[_ngcontent-%COMP%]   .show.move[_ngcontent-%COMP%]{transition:transform .3s}mat-list-item.show[_ngcontent-%COMP%]{padding:.5rem 0}.loading-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loading-title[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})()},1521:(J,S,s)=>{s.d(S,{g:()=>F});var t=s(5861),x=s(7579),h=s(4968),O=s(8372),f=s(2722),W=s(5698),w=s(4650),I=s(3238);let F=(()=>{class y{constructor(l,u,d){this.el=l,this.matRipple=u,this.ngZone=d,this.destroy$=new x.x,this.touchTapDelay=100,this.isClick=new x.x,this.isNearThreshold=10,this.pointerDownEvents=["mousedown","touchstart"],this.pointerUpEvents=["mouseup","mouseleave","touchend","touchcancel","dragstart"],this.pointerMoveEvents=["pointermove","touchmove"],this.pointerUpEventsRegistered=!1,this.pointerMoveEventsRegistered=!1,this.isPointerDown=!1,this.isTouch=!1,this.matRipple.disabled=!0}ngOnInit(){(0,h.R)(window,"scroll").pipe((0,O.b)(10),(0,f.R)(this.destroy$)).subscribe(()=>this.matRipple.fadeOutAll())}ngOnDestroy(){this.removeEvents(),clearTimeout(this.timeoutId),this.destroy$.next(),this.destroy$.complete()}onPointerDown(l){0===l.button&&(this.isTouch="touch"===l.pointerType,this.isPointerDown=!0,this.downPosition={x:l.clientX,y:l.clientY},this.currentPosition={x:l.clientX,y:l.clientY},this.isClick.pipe((0,W.q)(1),(0,f.R)(this.destroy$)).subscribe(()=>{this.matRipple.launch(l.x,l.y,{persistent:!0}),clearTimeout(this.timeoutId)}),this.pointerUpEventsRegistered||(this.registerEvents(this.pointerUpEvents),this.pointerUpEventsRegistered=!0),this.isTouch?(clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.isNear(this.currentPosition,this.downPosition)&&this.isClick.next(void 0)},this.touchTapDelay),this.pointerMoveEventsRegistered||(this.registerEvents(this.pointerMoveEvents),this.pointerMoveEventsRegistered=!0)):this.isClick.next(void 0))}registerEvents(l){this.ngZone.runOutsideAngular(()=>{l.forEach(u=>{this.el.nativeElement.addEventListener(u,this,{passive:!0})})})}removeEvents(){this.el&&(this.pointerDownEvents.forEach(l=>{this.el.nativeElement.removeEventListener(l,this,{passive:!0})}),this.pointerUpEventsRegistered&&this.pointerUpEvents.forEach(l=>{this.el.nativeElement.removeEventListener(l,this,{passive:!0})}),this.pointerMoveEventsRegistered&&this.pointerMoveEvents.forEach(l=>{this.el.nativeElement.removeEventListener(l,this,{passive:!0})}))}handleEvent(l){var u=this;return(0,t.Z)(function*(){"pointermove"===l.type?u.onPointerMove(l):"touchmove"===l.type?u.onTouchMove(l):yield u.onPointerUp()})()}onPointerMove(l){this.currentPosition={x:l.clientX,y:l.clientY}}onTouchMove(l){this.currentPosition={x:l.touches[0].clientX,y:l.touches[0].clientY}}onPointerUp(){!this.isPointerDown||(this.isPointerDown=!1,this.isNear(this.currentPosition,this.downPosition)&&(this.isClick.next(void 0),clearTimeout(this.timeoutId)),this.matRipple.fadeOutAll())}isNear(l,u){return!(!l||!u)&&Math.abs(l.x-u.x)<this.isNearThreshold&&Math.abs(l.y-u.y)<this.isNearThreshold}}return y.\u0275fac=function(l){return new(l||y)(w.Y36(w.SBq),w.Y36(I.wG),w.Y36(w.R0b))},y.\u0275dir=w.lG2({type:y,selectors:[["","tHideRippleOnScroll",""]],hostBindings:function(l,u){1&l&&w.NdJ("pointerdown",function(L){return u.onPointerDown(L)})}}),y})()},3322:(J,S,s)=>{s.d(S,{v:()=>x});var t=s(4650);let x=(()=>{class h{transform(f){return f?isNaN(f.ids.slug)?f.ids.slug:f.ids.trakt+"":""}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275pipe=t.Yjl({name:"showSlug",type:h,pure:!0}),h})()}}]);