@use '@angular/material' as mat;
@use '../app/shared/styles/variables' as vars;
@use '../app/shared/styles/mixins' as mixins;
@use 'm3-theme' as theme;
@use 'sidenav';

// Updated for M3
:root {
  --text-color-dark: #{mat.get-theme-color(theme.$dark-theme, neutral, 10)}; // #191c1a
  --text-color-2-dark: #{mat.get-theme-color(theme.$dark-theme, neutral, 50)}; // #757874
  --text-color-light: #{mat.get-theme-color(theme.$dark-theme, neutral, 90)}; // #e1e3df
  --text-color-2-light: #{mat.get-theme-color(theme.$dark-theme, neutral, 60)}; // #8f918e

  --background-dark: #{mat.get-theme-color(theme.$dark-theme, neutral, 10)}; // #191c1a
  --background-light: #{mat.get-theme-color(theme.$dark-theme, neutral, 99)}; // #fbfdf8
  --background-2-dark: #{mat.get-theme-color(theme.$dark-theme, neutral, 35)}; // #505350
  --background-2-light: #{mat.get-theme-color(theme.$dark-theme, neutral, 90)}; // #e1e3df

  // other
  --toolbar-height: 64px;
  --sidenav-width: 256px;
  --bottom-tabs-height: 4rem;
  --border-radius: 8px;
  --transition-duration: 250ms;

  // material overrides
  --mat-tab-header-divider-height: 0;
  --mat-toolbar-title-text-size: 1.25rem;
  --mat-toolbar-title-text-weight: 500;
  --mat-toolbar-title-text-tracking: 0.25px;
}

.dark-theme,
html {
  color-scheme: dark;

  --text-color: var(--text-color-light);
  --text-color-2: var(--text-color-2-light);
  --background: var(--background-dark);
  --background-2: var(--background-2-dark);

  .mat-toolbar {
    @include mat.elevation(4, black);
  }

  .tertiary-button {
    @include mat.button-color(theme.$dark-theme, $color-variant: tertiary);
  }

  .tertiary-fab {
    @include mat.fab-color(theme.$dark-theme, $color-variant: tertiary);
  }

  .tertiary-spinner {
    @include mat.progress-spinner-color(theme.$dark-theme, $color-variant: tertiary);
  }
}

.light-theme {
  color-scheme: light;

  --text-color: var(--text-color-dark);
  --text-color-2: var(--text-color-2-dark);
  --background: var(--background-light);
  --background-2: var(--background-2-light);

  .mat-toolbar {
    @include mat.elevation(4, #bcbcbc);
  }

  .tertiary-button {
    @include mat.button-color(theme.$light-theme, $color-variant: tertiary);
  }

  .tertiary-fab {
    @include mat.fab-color(theme.$light-theme, $color-variant: tertiary);
  }

  .tertiary-spinner {
    @include mat.progress-spinner-color(theme.$light-theme, $color-variant: tertiary);
  }
}

.main-fab.main-fab {
  position: fixed;
  bottom: 5rem;
  right: 1rem;

  @media (min-width: vars.$breakpoint-lg) {
    bottom: 2rem;
    right: 2rem;
  }
}
