<ng-container *ngIf="lists">
  <nav *ngIf="lists.length; else noList" mat-tab-nav-bar [tabPanel]="tabPanel" color="accent">
    <a
      mat-tab-link
      *ngFor="let list of lists; let i = index"
      (click)="router.navigate([], { queryParams: { slug: list.ids.slug } }); activeListIndex = i"
      [active]="activeListIndex === i"
    >
      {{ list.name }}
    </a>
  </nav>
</ng-container>

<mat-tab-nav-panel #tabPanel class="list">
  <app-loading [loadingState]="loadingState">
    <app-shows [showsInfos]="showsInfos" [tmdbConfig]="tmdbService.tmdbConfig$ | async"></app-shows>
  </app-loading>
</mat-tab-nav-panel>

<button
  *ngIf="activeListIndex !== undefined"
  mat-fab
  color="primary"
  class="fab"
  aria-label="Add list items"
  (click)="dialogService.manageListItemsViaDialog(lists?.[activeListIndex])"
>
  <mat-icon>add</mat-icon>
</button>

<ng-template #noList>
  <div class="list">
    <h2 class="mat-subheading-1">No list added.</h2>
  </div>
</ng-template>
